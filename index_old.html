<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Intro.js | Better introductions for websites and features with a step-by-step guide for your projects.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Mellanox Barcode Scanner">
    <meta name="author" content="Mellanox Ltd.">
    <!-- styles -->
    <link href="css/pageStyle.css" rel="stylesheet">
    
	
	<script src="js/index.js"></script>
	<script src="js/jquery.js"></script>

	
	
	<script  type="text/javascript" charset="utf-8">
	
	
	
	
	
	document.addEventListener("DOMContentLoaded", function(event) { 
    	console.log("WEB - DomContentLoaded");
    	document.getElementById('preloaderImg').style.display = 'none';
    	
    	
	});
	
	
	function getScript(src) {
		console.log("web - 1.0");
    	var script = document.createElement("script");
    	script.src = src;
    	document.getElementsByTagName("head")[0].appendChild( script );
    	console.log("web - 2.0");
	}

	if ( navigator.userAgent.indexOf("iPhone") > 0 || navigator.userAgent.indexOf("iPad") > 0 || navigator.userAgent.indexOf("iPod") > 0) {
  		console.log("WEB - ios");
  		getScript("js/cordova_ios.js");
	} else if (navigator.userAgent.indexOf("Android") > 0) {
		console.log("WEB - android");
  		getScript("js/cordova.js");
	}
	else {
		consoloe.log("WEB - no platform");
	}
	
	function isEmpty(str) {
    	return (!str || 0 === str.length);
	}
	
	function isBlank(str) {
    	return (!str || /^\s*$/.test(str));
	}
	
	String.prototype.isEmpty = function() {
    	return (this.length === 0 || !this.trim());
	};
	
	String.prototype.isBlank = function() {
    	return (!this || /^\s*$/.test(this));
	};
	
	function onSearchDone() {
		var text = document.getElementById('query').value;
		console.log("on search done, value = " + text );
		if (text.isEmpty() || text.isBlank()) {
			console.log("text is invalid");
			//document.getElementById('errorLabel').style.display = 'inline';
		}
		else {
		console.log("goes to open window");
			
			//var windowref = window.open('http://babylonm.mellanox.com/web/#' + text, '_blank' );
			
			//var openedWindow = window.open('http://babylonm.mellanox.com/web/#' + text , '_blank' );
			var openedWindow = window.open('https:/mobile.mellanox.com/mquery/trace.php?search=' + text , '_blank' );
			document.getElementById('preloaderImg').style.display = 'block';
		}
	}
	
	
	
	
	function setErrorLableInvisible(){
		console.log("error label sets invisible");
		document.getElementById('errorLabel').style.display = 'none';
	}
	
	function create(htmlStr) {
    	var frag = document.createDocumentFragment(),
        temp = document.createElement('div');
    	temp.innerHTML = htmlStr;
    	while (temp.firstChild) {
        	frag.appendChild(temp.firstChild);
    	}
    	return frag;
	}

	
	
	

	</script>
    <!-- Add IntroJs styles -->
    <link href="introjs.css?v=060" rel="stylesheet">

    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
  </head>

  <body>


       <BR><BR><BR>
    <div id="buttonDiv" style="width: 230pt; margin:0 auto; ">   
	<button type=submit onclick="javascript:app.scan();" style="background: #ccc url(assets/scanImage.png); padding: 0.5em 1em ; background-color: transparent; border: none !important; height: 135pt ; width: 230pt; border-radius: 5pt;"></button>
  	</div>
        <BR><BR>
		<div style="width: 230pt; margin:0 auto;">
		<label for="SomeTextField" id="errorLabel"   style="font-face: 'Comic Sans MS'; font-size: larger; color: #F3423F; background-color: transparent; border: 0pt;text-align:center;width:100%;display: none;"  >Error: invalid input</label>
        </div>
        
        <BR><BR>
        
	
        
   <div id="mydiv" style="width:230pt;height:105pt;background:#212221; margin:0 auto;text-align:center;border-radius: 5pt" >    
	<form action="javascript:onSearchDone();"   method="get" > 
		<input type="text" name="query" id="query" onfocus="javascript:setErrorLableInvisible()"  value="" placeholder="&#128270 Enter serial number, part number or any other term" style="font-face: 'Comic Sans MS'; font-size: large; width: 180pt;  margin-rigth:25pt; margin-top:25pt; height: 25pt;"> 
		 <BR><BR>
		<input type="submit" value="Search" style="font-face: 'Comic Sans MS'; font-size: larger; color: #757575; background-color: transparent; border: 0pt;text-align:center;width:100%"> 
	</form> 
	</div>
	 <BR><BR>
	<div id="loading"></div>
	
	<div id="preloaderDiv" style="width: 230pt; margin:0 auto; text-align:center;">   
		<img id="preloaderImg" src="assets/preloader1.gif" alt="" class="hiddenPic" style="display: none; border-radius: 5pt;"/> 
	</div>

      
  </body>
</html>
